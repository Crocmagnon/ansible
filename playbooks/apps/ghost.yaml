---
- name: Ghost config
  hosts: vps
  gather_facts: false
  tasks:
    - name: Update ghost-cli
      become: true
      community.general.npm:
        global: true
        name: ghost-cli
        state: latest
    - name: Setup ghost gabnotes.org
      ansible.builtin.include_role:
        name: ghost
      vars:
        ghost_filename: gabnotes-org-config.json.j2
        ghost_site: gabnotes.org
        ghost_systemctl_service: ghost_gabnotes-org.service
        ghost_db_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62303136643236393439626134643435646338343530303731323739623562323137343633653235
          6337613330353432343264633932366233663430653466380a393738643638663034636263306230
          32383732626533386231346461633530366662326137373939653335343533323335343439356533
          6134316161613162660a323536396665346565373365393034396566356434313439313639353036
          61633930386566353235383262613364646463326535326361633462373134383638
        ghost_mail_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61313164316335333431656136326636353535643363623665326565303961356234353362646261
          3339616561643434376163613962366631303863313263310a323330316230333864636232386632
          36363966303861396161373031343865323639383634323131633761666137663766353165333265
          3630333962383338650a326166383635636533656363613865323065396537396664663132303766
          62346530353634383935303031343737326335326361313765393664613236356364313161373834
          35396435303337643330393266376139616164613730643037303039633337343262303335616366
          373032363533393263323835363666623966
    - name: Setup ghost voyages-lois.augendre.info
      ansible.builtin.include_role:
        name: ghost
      vars:
        ghost_filename: voyages-lois-augendre-info-config.json.j2
        ghost_site: voyages-lois.augendre.info
        ghost_systemctl_service: ghost_voyages-lois-augendre-info.service
        ghost_db_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62353834396534383164313434653935313835623163303334356532336561643732643564366461
          3238346564383038646461636466373661613537663062380a346164613730303430363232353865
          33376565363662363332636631326535333536643563333961663639626236666438323362626133
          3764363233326563610a663031626162343932666261653235653062336436333362393561313461
          30316163313662373264626330666237643264643430326465613262303962376530
        ghost_mail_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35353737376566653462393530613034353763643166626432613836663638636562303762343133
          6132313762353565646531613336663336313765623430310a616438613433333632343933373330
          62356661626437306265313061636634613263613633353433653330653862633639376462353637
          3739313432356262330a626432386536663638646539323861356564616436386464366333303564
          35303230623365636362323733623531343335376361313430373936663836353132643834643664
          6163326436323961636462616430366364626532323861656436
